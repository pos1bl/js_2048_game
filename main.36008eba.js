parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"KIzB":[function(require,module,exports) {
"use strict";function e(e){return n(e)||r(e)||t(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function t(e,i){if(e){if("string"==typeof e)return s(e,i);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,i):void 0}}function r(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function n(e){if(Array.isArray(e))return s(e)}function s(e,i){(null==i||i>e.length)&&(i=e.length);for(var t=0,r=new Array(i);t<i;t++)r[t]=e[t];return r}Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]};var c=document.querySelector(".container"),a=c.querySelector(".button"),o=c.querySelector(".message-container"),l=c.querySelectorAll(".field-cell"),d=o.querySelector(".message-start"),f=o.querySelector(".message-lose"),u=o.querySelector(".message-win"),m=c.querySelector(".game-score"),h={},x=["field-cell--2","field-cell--4","field-cell--8","field-cell--16","field-cell--32","field-cell--64","field-cell--128","field-cell--256","field-cell--512","field-cell--1024","field-cell--2048"],p={ArrowUp:"ArrowUp",ArrowDown:"ArrowDown",ArrowLeft:"ArrowLeft",ArrowRight:"ArrowRight"},y=2048,L=0;a.addEventListener("click",function(){if(a.classList.contains("start"))a.classList.remove("start"),a.classList.add("restart"),a.textContent="Restart",d.classList.add("hidden"),e(l).forEach(function(e,i){h[i]=e.innerText}),g(h);else if(a.classList.contains("restart")){l.forEach(function(e){var i;e.innerText="",(i=e.classList).remove.apply(i,x)});for(var i=0;i<16;i++)h[i]="";g(h),m.innerHTML=0,L=0,f.classList.add("hidden"),u.classList.add("hidden")}}),document.addEventListener("keydown",function(e){if(!a.classList.contains("start")&&f.classList.contains("hidden")&&u.classList.contains("hidden")){switch(e.key){case p.ArrowUp:w(p.ArrowUp,h),A(h);break;case p.ArrowDown:w(p.ArrowDown,h),A(h);break;case p.ArrowLeft:w(p.ArrowLeft,h),A(h);break;case p.ArrowRight:w(p.ArrowRight,h),A(h);break;default:return}var i=Object.keys(Object.fromEntries(Object.entries(h).filter(function(e){return""===e[1]})));if(i.length>0){var t=i.random(),r=Math.random()>=.1?2:4;h[t]=r,l[+t].textContent=r}i=Object.keys(Object.fromEntries(Object.entries(h).filter(function(e){return""===e[1]}))),k(l),m.innerHTML=L;var n=b(h);v(h)&&u.classList.remove("hidden"),0===i.length&&n&&f.classList.remove("hidden")}});var b=function(e){for(var i=[3,7,11,15],t=0,r=0;r<=15;r++)(e[r]!==e[r+1]&&!i.includes(r)||i.includes(r)&&e[r]!==e[r-1])&&e[r]!==e[r+4]&&t++;return 16===t},v=function(e){return Object.values(e).some(function(e){return e===y})},w=function(e,i){var t={i:0,limit:function(){return this.i<=0},increment:1,indexFirst:0,indexSecond:0,indexThird:0},r={},n={},s={};switch(Object.setPrototypeOf(r,t),Object.setPrototypeOf(n,t),Object.setPrototypeOf(s,t),e){case p.ArrowUp:t.increment=1,t.indexFirst=-4,t.indexSecond=-8,t.indexThird=-12,r.i=4,r.limit=function(){return this.i<=7},n.i=8,n.limit=function(){return this.i<=11},s.i=12,s.limit=function(){return this.i<=15};break;case p.ArrowDown:t.increment=-1,t.indexFirst=4,t.indexSecond=8,t.indexThird=12,r.i=11,r.limit=function(){return this.i>=8},n.i=7,n.limit=function(){return this.i>=4},s.i=3,s.limit=function(){return this.i>=0};break;case p.ArrowLeft:t.increment=4,t.indexFirst=-1,t.indexSecond=-2,t.indexThird=-3,r.i=1,r.limit=function(){return this.i<=13},n.i=2,n.limit=function(){return this.i<=14},s.i=3,s.limit=function(){return this.i<=15};break;case p.ArrowRight:t.increment=4,t.indexFirst=1,t.indexSecond=2,t.indexThird=3,r.i=2,r.limit=function(){return this.i<=14},n.i=1,n.limit=function(){return this.i<=13},s.i=0,s.limit=function(){return this.i<=12}}for(var c=r.i;r.limit();c+=r.increment)i[c]===i[c+r.indexFirst]&&S(i[c])?(i[c+r.indexFirst]=F(i[c]),L+=F(i[c]),i[c]=""):""===i[c+r.indexFirst]&&(i[c+r.indexFirst]=i[c],i[c]=""),r.i+=r.increment;for(var a=n.i;n.limit();a+=n.increment)i[a]===i[a+n.indexFirst]&&S(i[a])?(i[a+n.indexFirst]=F(i[a]),L+=F(i[a]),i[a]=""):""===i[a+n.indexFirst]&&(i[a+n.indexSecond]===i[a]&&S(i[a])?(i[a+n.indexSecond]=F(i[a]),L+=F(i[a]),i[a]=""):""===i[a+n.indexSecond]?(i[a+n.indexSecond]=i[a],i[a]=""):(i[a+n.indexFirst]=i[a],i[a]="")),n.i+=n.increment;for(var o=s.i;s.limit();o+=s.increment)i[o]===i[o+s.indexFirst]&&S(i[o])?(i[o+s.indexFirst]=F(i[o]),L+=F(i[o]),i[o]=""):""===i[o+s.indexFirst]&&(i[o+s.indexSecond]===i[o]&&S(i[o])?(i[o+s.indexSecond]=F(i[o]),L+=F(i[o]),i[o]=""):""===i[o+s.indexSecond]?i[o+s.indexThird]===i[o]&&S(i[o])?(i[o+s.indexThird]=F(i[o]),L+=F(i[o]),i[o]=""):""===i[o+s.indexThird]?(i[o+s.indexThird]=i[o],i[o]=""):(i[o+s.indexSecond]=i[o],i[o]=""):(i[o+s.indexFirst]=i[o],i[o]="")),s.i+=s.increment},A=function(e){for(var i=0;i<=15;i++)l[i].textContent=e[i]},S=function(e){return""!==e},k=function(e){e.forEach(function(e){var i,t,r,n,s,c,a,o,l,d,f;switch(e.textContent){case"2":(i=e.classList).remove.apply(i,x),e.classList.add("field-cell--2");break;case"4":(t=e.classList).remove.apply(t,x),e.classList.add("field-cell--4");break;case"8":(r=e.classList).remove.apply(r,x),e.classList.add("field-cell--8");break;case"16":(n=e.classList).remove.apply(n,x),e.classList.add("field-cell--16");break;case"32":(s=e.classList).remove.apply(s,x),e.classList.add("field-cell--32");break;case"64":(c=e.classList).remove.apply(c,x),e.classList.add("field-cell--64");break;case"128":(a=e.classList).remove.apply(a,x),e.classList.add("field-cell--128");break;case"256":(o=e.classList).remove.apply(o,x),e.classList.add("field-cell--256");break;case"512":e.classList.add("field-cell--512");break;case"1024":(l=e.classList).remove.apply(l,x),e.classList.add("field-cell--1024");break;case"2048":(d=e.classList).remove.apply(d,x),e.classList.add("field-cell--2048");break;default:(f=e.classList).remove.apply(f,x)}})},g=function(e){var i=Object.keys(e),t=i.random();i.splice(t,1);var r=i.random(),n=function(){return Math.random()>=.1?2:4},s=n(),c=n();h[t]=s,h[r]=c,l[+t].textContent=s,l[+r].textContent=c,k(l)},F=function(e){return 2*Number(e)};
},{}]},{},["KIzB"], null)
//# sourceMappingURL=main.36008eba.js.map